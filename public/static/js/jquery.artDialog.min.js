(function(t,e,i){t.noop=t.noop||function(){};var n,s,o,r,a=0,l=t(e),c=t(document),u=t("html"),h=document.documentElement,d=e.VBArray&&!e.XMLHttpRequest,p="createTouch"in document&&!("onmousemove"in h)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),f="artDialog"+ +new Date,g=function(e,s,o){e=e||{},("string"==typeof e||1===e.nodeType)&&(e={content:e,fixed:!p});var r,l=g.defaults,c=e.follow=1===this.nodeType&&this||e.follow;for(var u in l)e[u]===i&&(e[u]=l[u]);return t.each({ok:"yesFn",cancel:"noFn",close:"closeFn",init:"initFn",okVal:"yesText",cancelVal:"noText"},function(t,n){e[t]=e[t]!==i?e[t]:e[n]}),"string"==typeof c&&(c=t(c)[0]),e.id=c&&c[f+"follow"]||e.id||f+a,r=g.list[e.id],c&&r?r.follow(c).zIndex().focus():r?r.zIndex().focus():(p&&(e.fixed=!1),t.isArray(e.button)||(e.button=e.button?[e.button]:[]),s!==i&&(e.ok=s),o!==i&&(e.cancel=o),e.ok&&e.button.push({name:e.okVal,callback:e.ok,focus:!0}),e.cancel&&e.button.push({name:e.cancelVal,callback:e.cancel}),g.defaults.zIndex=e.zIndex,a++,g.list[e.id]=n?n._init(e):new g.fn._init(e))};if(g.fn=g.prototype={version:"4.1.6",closed:!0,_init:function(t){if("loading"==t.icon)var i,s=this,o=t.icon,r=o&&(d?{gif:"icons/"+o+".gif"}:{backgroundImage:"url('"+t.iconurl+o+".gif')",backgroundRepeat:"no-repeat",backgroundPosition:"center"});else var i,s=this,o=t.icon,r=o&&(d?{png:"icons/"+o+".png"}:{backgroundImage:"url('"+t.iconurl+o+".png')"});return s.closed=!1,s.config=t,s.DOM=i=s.DOM||s._getDOM(),i.wrap.addClass(t.skin),i.close[t.cancel===!1?"hide":"show"](),i.icon[0].style.display=o?"":"none",i.iconBg.css(r||{background:"none"}),i.se.css("cursor",t.resize?"se-resize":"auto"),i.title.css("cursor",t.drag?"move":"auto"),i.content.css("padding",t.padding),s[t.show?"show":"hide"](!0),s.button(t.button).title(t.title).content(t.content,!0).size(t.width,t.height).time(t.time),t.follow?s.follow(t.follow):s.position(t.left,t.top),s.zIndex().focus(),t.lock&&s.lock(),s._addEvent(),s._ie6PngFix(),n=null,t.init&&t.init.call(s,e),s},content:function(t){var e,n,s,o,r=this,a=r.DOM,l=a.wrap[0],c=l.offsetWidth,u=l.offsetHeight,h=parseInt(l.style.left),d=parseInt(l.style.top),p=l.style.width,f=a.content,g=f[0];return r._elemBack&&r._elemBack(),l.style.width="auto",t===i?g:("string"==typeof t?f.html(t):t&&1===t.nodeType&&(o=t.style.display,e=t.previousSibling,n=t.nextSibling,s=t.parentNode,r._elemBack=function(){e&&e.parentNode?e.parentNode.insertBefore(t,e.nextSibling):n&&n.parentNode?n.parentNode.insertBefore(t,n):s&&s.appendChild(t),t.style.display=o,r._elemBack=null},f.html(""),g.appendChild(t),t.style.display="block"),arguments[1]||(r.config.follow?r.follow(r.config.follow):(c=l.offsetWidth-c,u=l.offsetHeight-u,h-=c/2,d-=u/2,l.style.left=Math.max(h,0)+"px",l.style.top=Math.max(d,0)+"px"),p&&"auto"!==p&&(l.style.width=l.offsetWidth+"px"),r._autoPositionType()),r._ie6SelectFix(),r._runScript(g),r)},title:function(t){var e=this.DOM,n=e.wrap,s=e.title,o="aui_state_noTitle";return t===i?s[0]:(t===!1?(s.hide().html(""),n.addClass(o)):(s.show().html(t||""),n.removeClass(o)),this)},position:function(t,e){var n=this,s=n.config,o=n.DOM.wrap[0],r=d?!1:s.fixed,a=d&&n.config.fixed,u=c.scrollLeft(),h=c.scrollTop(),p=r?0:u,f=r?0:h,g=l.width(),m=l.height(),v=o.offsetWidth,y=o.offsetHeight,b=o.style;return(t||0===t)&&(n._left=-1!==(""+t).indexOf("%")?t:null,t=n._toNumber(t,g-v),"number"==typeof t?(t=a?t+=u:t+p,b.left=Math.max(t,p)+"px"):"string"==typeof t&&(b.left=t)),(e||0===e)&&(n._top=-1!==(""+e).indexOf("%")?e:null,e=n._toNumber(e,m-y),"number"==typeof e?(e=a?e+=h:e+f,b.top=Math.max(e,f)+"px"):"string"==typeof e&&(b.top=e)),t!==i&&e!==i&&(n._follow=null,n._autoPositionType()),n},size:function(t,e){var i,n,s,o,r=this,a=(r.config,r.DOM),c=a.wrap,u=a.main,h=c[0].style,d=u[0].style;return t&&(r._width=-1!==(""+t).indexOf("%")?t:null,i=l.width()-c[0].offsetWidth+u[0].offsetWidth,s=r._toNumber(t,i),t=s,"number"==typeof t?(h.width="auto",d.width=Math.max(r.config.minWidth,t)+"px",h.width=c[0].offsetWidth+"px"):"string"==typeof t&&(d.width=t,"auto"===t&&c.css("width","auto"))),e&&(r._height=-1!==(""+e).indexOf("%")?e:null,n=l.height()-c[0].offsetHeight+u[0].offsetHeight,o=r._toNumber(e,n),e=o,"number"==typeof e?d.height=Math.max(r.config.minHeight,e)+"px":"string"==typeof e&&(d.height=e)),r._ie6SelectFix(),r},follow:function(e){var i,n=this,s=n.config;if(("string"==typeof e||e&&1===e.nodeType)&&(i=t(e),e=i[0]),!e||!e.offsetWidth&&!e.offsetHeight)return n.position(n._left,n._top);var o=f+"follow",r=l.width(),a=l.height(),u=c.scrollLeft(),h=c.scrollTop(),p=i.offset(),g=e.offsetWidth,m=e.offsetHeight,v=d?!1:s.fixed,y=v?p.left-u:p.left,b=v?p.top-h:p.top,x=n.DOM.wrap[0],w=x.style,k=x.offsetWidth,_=x.offsetHeight,C=y-(k-g)/2,T=b+m,D=v?0:u,S=v?0:h;return C=D>C?y:C+k>r&&y-k>D?y-k+g:C,T=T+_>a+S&&b-_>S?b-_:T,w.left=C+"px",w.top=T+"px",n._follow&&n._follow.removeAttribute(o),n._follow=e,e[o]=s.id,n._autoPositionType(),n},button:function(){var e=this,n=arguments,s=e.DOM,o=s.buttons,r=o[0],a="aui_state_highlight",l=e._listeners=e._listeners||{},c=t.isArray(n[0])?n[0]:[].slice.call(n);return n[0]===i?r:(t.each(c,function(i,n){var s=n.name,o=!l[s],c=o?document.createElement("button"):l[s].elem;l[s]||(l[s]={}),n.callback&&(l[s].callback=n.callback),n.className&&(c.className=n.className),n.focus&&(e._focus&&e._focus.removeClass(a),e._focus=t(c).addClass(a),e.focus()),c.setAttribute("type","button"),c[f+"callback"]=s,c.disabled=!!n.disabled,o&&(c.innerHTML=s,l[s].elem=c,r.appendChild(c))}),o[0].style.display=c.length?"":"none",e._ie6SelectFix(),e)},show:function(){return this.DOM.wrap.show(),!arguments[0]&&this._lockMaskWrap&&this._lockMaskWrap.show(),this},hide:function(){return this.DOM.wrap.hide(),!arguments[0]&&this._lockMaskWrap&&this._lockMaskWrap.hide(),this},close:function(){if(this.closed)return this;var t=this,i=t.DOM,s=i.wrap,o=g.list,r=t.config.close,a=t.config.follow;if(t.time(),"function"==typeof r&&r.call(t,e)===!1)return t;t.unlock(),t._elemBack&&t._elemBack(),s[0].className=s[0].style.cssText="",i.title.html(""),i.content.html(""),i.buttons.html(""),g.focus===t&&(g.focus=null),a&&a.removeAttribute(f+"follow"),delete o[t.config.id],t._removeEvent(),t.hide(!0)._setAbsolute();for(var l in t)t.hasOwnProperty(l)&&"DOM"!==l&&delete t[l];return n?s.remove():n=t,t},time:function(t){var e=this,i=e.config.cancelVal,n=e._timer;return n&&clearTimeout(n),t&&(e._timer=setTimeout(function(){e._click(i)},1e3*t)),e},focus:function(){try{var t=this._focus&&this._focus[0]||this.DOM.close[0];t&&t.focus()}catch(e){}return this},zIndex:function(){var t=this,e=t.DOM,i=e.wrap,n=g.focus,s=g.defaults.zIndex++;return i.css("zIndex",s),t._lockMask&&t._lockMask.css("zIndex",s-1),n&&n.DOM.wrap.removeClass("aui_state_focus"),g.focus=t,i.addClass("aui_state_focus"),t},lock:function(){if(this._lock)return this;var e=this,i=g.defaults.zIndex-1,n=e.DOM.wrap,s=e.config,o=c.width(),r=c.height(),a=e._lockMaskWrap||t(document.body.appendChild(document.createElement("div"))),l=e._lockMask||t(a[0].appendChild(document.createElement("div"))),u="(document).documentElement",h=p?"width:"+o+"px;height:"+r+"px":"width:100%;height:100%",f=d?"position:absolute;left:expression("+u+".scrollLeft);top:expression("+u+".scrollTop);width:expression("+u+".clientWidth);height:expression("+u+".clientHeight)":"";return e.zIndex(),n.addClass("aui_state_lock"),a[0].style.cssText=h+";position:fixed;z-index:"+i+";top:0;left:0;overflow:hidden;"+f,l[0].style.cssText="height:100%;background:"+s.background+";filter:alpha(opacity=0);opacity:0",d&&l.html('<iframe src="javascript:false;" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>'),l.stop(),l.bind("click",function(){e._reset()}).bind("dblclick",function(){e._click(e.config.cancelVal)}),0===s.duration?l.css({opacity:s.opacity}):l.animate({opacity:s.opacity},s.duration),e._lockMaskWrap=a,e._lockMask=l,e._lock=!0,e},unlock:function(){var t=this,e=t._lockMaskWrap,i=t._lockMask;if(!t._lock)return t;var s=e[0].style,o=function(){d&&(s.removeExpression("width"),s.removeExpression("height"),s.removeExpression("left"),s.removeExpression("top")),s.cssText="display:none",n&&e.remove()};return i.stop().unbind(),t.DOM.wrap.removeClass("aui_state_lock"),t.config.duration?i.animate({opacity:0},t.config.duration,o):o(),t._lock=!1,t},_getDOM:function(){var e=document.createElement("div"),i=document.body;e.style.cssText="position:absolute;left:0;top:0",e.innerHTML=g._templates,i.insertBefore(e,i.firstChild);for(var n,s=0,o={wrap:t(e)},r=e.getElementsByTagName("*"),a=r.length;a>s;s++)n=r[s].className.split("aui_")[1],n&&(o[n]=t(r[s]));return o},_toNumber:function(t,e){if(!t&&0!==t||"number"==typeof t)return t;var i=t.length-1;return t.lastIndexOf("px")===i?t=parseInt(t):t.lastIndexOf("%")===i&&(t=parseInt(e*t.split("%")[0]/100)),t},_ie6PngFix:d?function(){for(var t,e,i,n,s=0,o=g.defaults.path+"/skins/",r=this.DOM.wrap[0].getElementsByTagName("*");r.length>s;s++)t=r[s],e=t.currentStyle.png,e&&(i=o+e,n=t.runtimeStyle,n.backgroundImage="none",n.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"',sizingMethod='crop')")}:t.noop,_ie6SelectFix:d?function(){var t=this.DOM.wrap,e=t[0],i=f+"iframeMask",n=t[i],s=e.offsetWidth,o=e.offsetHeight;s+="px",o+="px",n?(n.style.width=s,n.style.height=o):(n=e.appendChild(document.createElement("iframe")),t[i]=n,n.src="javascript:false;",n.style.cssText="position:absolute;z-index:-1;left:0;top:0;filter:alpha(opacity=0);width:"+s+";height:"+o)}:t.noop,_runScript:function(t){for(var e,i=0,n=0,s=t.getElementsByTagName("script"),o=s.length,r=[];o>i;i++)"text/dialog"===s[i].type&&(r[n]=s[i].innerHTML,n++);r.length&&(r=r.join(""),e=Function(r),e.call(this))},_autoPositionType:function(){this[this.config.fixed?"_setFixed":"_setAbsolute"]()},_setFixed:function(){return d&&t(function(){var e="backgroundAttachment";"fixed"!==u.css(e)&&"fixed"!==t("body").css(e)&&u.css({zoom:1,backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"})}),function(){var t=this.DOM.wrap,e=t[0].style;if(d){var i=parseInt(t.css("left")),n=parseInt(t.css("top")),s=c.scrollLeft(),o=c.scrollTop(),r="(document.documentElement)";this._setAbsolute(),e.setExpression("left","eval("+r+".scrollLeft + "+(i-s)+') + "px"'),e.setExpression("top","eval("+r+".scrollTop + "+(n-o)+') + "px"')}else e.position="fixed"}}(),_setAbsolute:function(){var t=this.DOM.wrap[0].style;d&&(t.removeExpression("left"),t.removeExpression("top")),t.position="absolute"},_click:function(t){var i=this,n=i._listeners[t]&&i._listeners[t].callback;return"function"!=typeof n||n.call(i,e)!==!1?i.close():i},_reset:function(t){var e,i=this,n=i._winSize||l.width()*l.height(),s=i._follow,o=i._width,r=i._height,a=i._left,c=i._top;t&&(e=i._winSize=l.width()*l.height(),n===e)||((o||r)&&i.size(o,r),s?i.follow(s):(a||c)&&i.position(a,c))},_addEvent:function(){var t,n=this,s=n.config,o="CollectGarbage"in e,r=n.DOM;n._winResize=function(){t&&clearTimeout(t),t=setTimeout(function(){n._reset(o)},40)},l.bind("resize",n._winResize),r.wrap.bind("click",function(t){var e,o=t.target;return o.disabled?!1:o===r.close[0]?(n._click(s.cancelVal),!1):(e=o[f+"callback"],e&&n._click(e),n._ie6SelectFix(),i)}).bind("mousedown",function(){n.zIndex()})},_removeEvent:function(){var t=this,e=t.DOM;e.wrap.unbind(),l.unbind("resize",t._winResize)}},g.fn._init.prototype=g.fn,t.fn.dialog=t.fn.artDialog=function(){var t=arguments;return this[this.live?"live":"bind"]("click",function(){return g.apply(this,t),!1}),this},g.focus=null,g.get=function(t){return t===i?g.list:g.list[t]},g.list={},c.bind("keydown",function(t){var e=t.target,i=e.nodeName,n=/^INPUT|TEXTAREA$/,s=g.focus,o=t.keyCode;s&&s.config.esc&&!n.test(i)&&27===o&&s._click(s.config.cancelVal)}),r=e._artDialog_path||function(t,e,i){for(e in t)t[e].src&&-1!==t[e].src.indexOf("artDialog")&&(i=t[e]);return s=i||t[t.length-1],i=s.src.replace(/\\/g,"/"),0>i.lastIndexOf("/")?".":i.substring(0,i.lastIndexOf("/"))}(document.getElementsByTagName("script")),o=s.src.split("skin=")[1]){var m=document.createElement("link");m.rel="stylesheet",m.href=r+"/skins/"+o+".css?"+g.fn.version,s.parentNode.insertBefore(m,s)}l.bind("load",function(){setTimeout(function(){a||g({left:"-9999em",time:9,fixed:!1,lock:!1,focus:!1})},150)});try{document.execCommand("BackgroundImageCache",!1,!0)}catch(v){}g._templates='<div class="aui_outer"><table class="aui_border"><tbody><tr><td class="aui_nw"></td><td class="aui_n"></td><td class="aui_ne"></td></tr><tr><td class="aui_w"></td><td class="aui_c"><div class="aui_inner"><table class="aui_dialog"><tbody><tr><td colspan="2" class="aui_header"><div class="aui_titleBar"><div class="aui_title"></div><a class="aui_close" href="javascript:/*artDialog*/;">×</a></div></td></tr><tr><td class="aui_icon"><div class="aui_iconBg"></div></td><td class="aui_main"><div class="aui_content"></div></td></tr><tr><td colspan="2" class="aui_footer"><div class="aui_buttons"></div></td></tr></tbody></table></div></td><td class="aui_e"></td></tr><tr><td class="aui_sw"></td><td class="aui_s"></td><td class="aui_se"></td></tr></tbody></table></div>',g.defaults={content:'<div class="aui_loading"><span>loading..</span></div>',iconurl:"",title:"消息",button:null,ok:null,cancel:null,init:null,close:null,okVal:"确定",cancelVal:"取消",width:"auto",height:"auto",minWidth:96,minHeight:32,padding:"20px 25px",skin:"",icon:null,time:null,esc:!0,focus:!0,show:!0,follow:null,path:r,lock:!1,background:"#000",opacity:.7,duration:300,fixed:!1,left:"50%",top:"38.2%",zIndex:1987,resize:!0,drag:!0},e.artDialog=t.dialog=t.artDialog=g})(this.art||this.jQuery&&(this.art=jQuery),this),function(t){var e,i,n=t(window),s=t(document),o=document.documentElement,r=!("minWidth"in o.style),a="onlosecapture"in o,l="setCapture"in o;artDialog.dragEvent=function(){var t=this,e=function(e){var i=t[e];t[e]=function(){return i.apply(t,arguments)}};e("start"),e("move"),e("end")},artDialog.dragEvent.prototype={onstart:t.noop,start:function(t){return s.bind("mousemove",this.move).bind("mouseup",this.end),this._sClientX=t.clientX,this._sClientY=t.clientY,this.onstart(t.clientX,t.clientY),!1},onmove:t.noop,move:function(t){return this._mClientX=t.clientX,this._mClientY=t.clientY,this.onmove(t.clientX-this._sClientX,t.clientY-this._sClientY),!1},onend:t.noop,end:function(t){return s.unbind("mousemove",this.move).unbind("mouseup",this.end),this.onend(t.clientX,t.clientY),!1}},i=function(t){var i,o,c,u,h,d,p=artDialog.focus,f=p.DOM,g=f.wrap,m=f.title,v=f.main,y="getSelection"in window?function(){window.getSelection().removeAllRanges()}:function(){try{document.selection.empty()}catch(t){}};e.onstart=function(){d?(o=v[0].offsetWidth,c=v[0].offsetHeight):(u=g[0].offsetLeft,h=g[0].offsetTop),s.bind("dblclick",e.end),!r&&a?m.bind("losecapture",e.end):n.bind("blur",e.end),l&&m[0].setCapture(),g.addClass("aui_state_drag"),p.focus()},e.onmove=function(t,e){if(d){var n=g[0].style,s=v[0].style,r=t+o,a=e+c;n.width="auto",s.width=Math.max(0,r)+"px",n.width=g[0].offsetWidth+"px",s.height=Math.max(0,a)+"px"}else{var s=g[0].style,l=Math.max(i.minX,Math.min(i.maxX,t+u)),f=Math.max(i.minY,Math.min(i.maxY,e+h));s.left=l+"px",s.top=f+"px"}y(),p._ie6SelectFix()},e.onend=function(){s.unbind("dblclick",e.end),!r&&a?m.unbind("losecapture",e.end):n.unbind("blur",e.end),l&&m[0].releaseCapture(),r&&!p.closed&&p._autoPositionType(),g.removeClass("aui_state_drag")},d=t.target===f.se[0]?!0:!1,i=function(){var t,e,i=p.DOM.wrap[0],o="fixed"===i.style.position,r=i.offsetWidth,a=i.offsetHeight,l=n.width(),c=n.height(),u=o?0:s.scrollLeft(),h=o?0:s.scrollTop(),t=l-r+u;return e=c-a+h,{minX:u,minY:h,maxX:t,maxY:e}}(),e.start(t)},s.bind("mousedown",function(t){var n=artDialog.focus;if(n){var s=t.target,o=n.config,r=n.DOM;return o.drag!==!1&&s===r.title[0]||o.resize!==!1&&s===r.se[0]?(e=e||new artDialog.dragEvent,i(t),!1):void 0}})}(this.art||this.jQuery&&(this.art=jQuery));